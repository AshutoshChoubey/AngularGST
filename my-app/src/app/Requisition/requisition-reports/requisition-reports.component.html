
<div class="page-heading text-center">
      <h1 class="page-title">Requisition Report</h1>
      <app-brad ></app-brad>
     <!--  <ol class="breadcrumb">
        <li *ngFor="let brad of brads"  class="breadcrumb-item"><a routerLink="{{ brad.url }}">{{ brad.name }}</a></li>
      </ol> -->
</div>
<div class="card">
	<div class="card-header">
		<div class="row">
			<div class="col-m-12 text-right">
				<button class="btn btn-sm btn-success" (click)="goBack()"><i class="fa fa-times" aria-hidden="true"></i></button>
			</div>
			
		</div>
		<div class="row" *ngIf="wait==1">
			<div class="col-m-12">
				  <div><i class="fa fa-spinner fa-5x  fa-spin" aria-hidden="true"></i></div>
				
			</div>
			
		</div>
	</div>
	<div class="card-header">
		<div class="row">
			<div *ngIf="requisitionReport[0]" class="col-sm-12">
				<table class="table table-borderd">
					<tr>
						<td>&nbsp;</td>
						<td>Requisition Id</td>
						<td>:</td>
						<td>{{ requisitionReport[0].requestionId }}</td>
						<td>&nbsp;</td>
						<td>Requisition Month</td>
						<td>:</td>
						<td>{{ requisitionReport[0].requisition_month }}</td>
						<td>&nbsp;</td>
					</tr>
					<tr>
						<td>&nbsp;</td>
						<td>Requisition Description</td>
						<td>:</td>
						<td>{{ requisitionReport[0].requisition_discription }}</td>
						<td>&nbsp;</td>
						<td>Department Name</td>
						<td>:</td>
						<td>{{ requisitionReport[0].ProductDepartmentName }}</td>
						<td>&nbsp;</td>
					</tr>
					<tr>
						<td>&nbsp;</td>
						<td>Store Incharge</td>
						<td>:</td>
						<td>{{ requisitionReport[0].store_incharge }}</td>
						<td>&nbsp;</td>
						<td>Plant Incharge</td>
						<td>:</td>
						<td>{{ requisitionReport[0].plant_incharge }}</td>
						<td>&nbsp;</td>
					</tr>
					<tr>
						<td>&nbsp;</td>
						<td>Issued Materials To</td>
						<td>:</td>
						<td>{{ requisitionReport[0].issued_materiaL_to }}</td>
						<td>&nbsp;</td>
						<td>Created Date</td>
						<td>:</td>
						<td>{{ requisitionReport[0].created_at }}</td>
						<td>&nbsp;</td>
					</tr>
				</table>
			</div>
		</div>
		
		<div class="row">
			<div *ngIf="requisitionReport[0]" class="col-sm-12">
				<table class="table table-borderd">
					<thead>
						<tr>
							<th>Requisition Sl#</th>
							<th>Product Code</th>
							<th>Product Name</th>
							<th>Speciaman</th>
							<th>Make</th>
							<!-- <th>Unit</th> -->
							<th>Quantity</th>
							<th>Purpose</th>
							<th><small>B/F(Available) Stock</small></th>
							<th>Remarks</th>
							<th>Action</th>
						</tr>
					</thead>
					<tbody>
						<tr *ngFor="let requisition of requisitionReport">
							<td>{{ requisition.requiitionDetailId }}</td>
							<td>{{ requisition.product_code }}</td>
							<td>{{ requisition.productName }}</td>
							<td>{{ requisition.speciaman  }}</td>
							<td>{{ requisition.make  }}</td>
							<!-- <td>{{ requisition.unit  }}</td> -->
							<td>{{ requisition.quantity  }}</td>
							<td>{{ requisition.purpose }}</td>
							<td>{{ requisition.bf_stock }}</td>
							<td>{{ requisition.remarks }}</td>
							<td style="white-space: nowrap;"><button type="button" (click)="redirectToUpdae(requisition)" class="btn btn-gradient-lime btn-icon-only btn-circle btn-lg btn-air" data-toggle="modal" data-target="#myModal"><i class="fa fa-edit"></i></button>
								<button type="button" (click)="deleteRequisitionDetail(requisition.requiitionDetailId)" class="btn btn-gradient-purple btn-icon-only btn-circle btn-lg btn-air"><i class="fa fa-minus"></i></button> </td>
							<!-- <td>{{ requisition.remarks }}</td>
							<td>{{ requisition.remarks }}</td>
							<td>{{ requisition.remarks }}</td> -->
							
						</tr>
					</tbody>
				</table>
			</div>
		</div>	

		<div id="myModal" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Update Requisition Product</h4>
      </div>
      <div class="modal-body">

			 <div class="form-group">
				<label for="exampleInputEmail1">Quantity</label>
				<input type="text" class="form-control" [(ngModel)]="requisitionDetailForUpdate.quantity"  placeholder="Quantity" value="{{ requisitionDetailForUpdate.quantity }}">
			</div>
			<div class="form-group">
				<label for="exampleInputEmail1">Remark</label>
				<input type="text" class="form-control" [(ngModel)]="requisitionDetailForUpdate.remarks"  placeholder="Remark" value="{{ requisitionDetailForUpdate.remarks }}">
			</div>
			<button (click)="UpdateRequisitionDetail()" type="submit" data-dismiss="modal" class="btn btn-primary">Submit</button>
       		<div >
<span ></span><b>Note:</b>You can not Consume Quantity More Than current available quantity.Please Confirm Current Quantity . 
</div>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>

  </div>
</div>	

	</div>
	<div class="card-header"></div>
</div>
<!-- <app-indent-list></app-indent-list>  -->