<div class="page-heading ">
      <h1 class="page-title">Add Product</h1>
     <!--  <ol class="breadcrumb">
        <li *ngFor="let brad of brads"  class="breadcrumb-item"><a routerLink="{{ brad.url }}">{{ brad.name }}</a></li>
      </ol> -->
</div>
<!-- <form class="form-purple" #loginForm=ngForm (ngSubmit)="onSubmit()" > -->



<div *ngIf="submitClicked==1" class="row text-center">
  <div class="col-sm-12">
    <div><i class="fa fa-spinner fa-5x  fa-spin" aria-hidden="true"></i></div>
  </div>
</div>
<form class="form-purple" #productAddForm=ngForm (ngSubmit)="onSubmit()">
<div *ngIf="submitClicked==0" class="card">
  <div class="card-header text-center">Please Fill Up Product Details</div>
  <div class="card-body"> 
    <div *ngIf="error" class="row">
      <div class="col-sm-12 col-lg-12">
          <div class="alert alert-warning alert-dismissable fade show alert-bordered">
              <button class="close-warning"  data-dismiss="alert" aria-label="Close"><i class="fa fa-times" aria-hidden="true"></i></button><strong>Warning!</strong><br>{{ error }}. 
          </div>
      </div>
    </div>
        <div class="row">
                <div class="col-lg-3">
                        <div class="form-group">
                        <label for="input-1">Product Code </label>
                        <input class="form-control form-control-air"  readonly  [(ngModel)]="form.product_code"  id=""  placeholder="Product Code" autocomplete="off"  name="product_code" type="text" value="{{ form.product_code }}">
                        </div>
                </div>
                <div class="col-lg-3">
                        <div class="form-group">
                        <label for="input-1">Product Name</label>
                        <input class="form-control form-control-air" id="" required (change)="onProductChange()"  [(ngModel)]="form.product_name"  placeholder="Product Name" autocomplete="off"  name="product_name" type="text" >
                        </div>
                </div>
                <div class="col-lg-3">
                        <div class="form-group">
                        <label for="department">Department</label> 
                        <select placeholder="Select Department" (change)="onProductCodeChange($event.target.value)" class="form-control form-control-air" id="department" required [(ngModel)]="form.product_department"   name="product_department"><option *ngFor="let departmentList of departmentLists" value="{{ departmentList.id}}">{{ departmentList.department }}</option></select>
                        </div>
                </div>
                <div class="col-lg-3">
                        <div class="form-group">
                        <label for="input-1">Specification</label>
                        <textarea class="form-control form-control-air  " id=""  [(ngModel)]="form.product_specification"  placeholder="Product Specification" autocomplete="off"  name="product_specification" ></textarea>
                        </div>
                </div>
                                                             
        </div>                        
        <div class="row">                    
            <div class="col-lg-3">
                    <div class="form-group">
                    <label for="input-1">Product Type</label>
                    <!-- <select class="form-control form-control-air" required [(ngModel)]="form.product_type"   name="product_type"><option value="1">NA</option><option value="2">machinary</option><option value="3">tea stall</option></select> -->
                    <input type="text" class="form-control form-control-air" [(ngModel)]="form.product_type"   name="product_type"/>
                    </div>
            </div>                                                            
            
            <div class="col-lg-3">
                  <div class="form-group">
                  <label for="input-1">Product Unit</label>

                  <!-- <select class="form-control form-control-air  "  required [(ngModel)]="form.product_unit"   name="product_unit"><option value="1">NA</option><option value="2">pic</option><option value="3">litter</option></select> -->
                  <input type="text" class="form-control form-control-air" required [(ngModel)]="form.product_unit"   name="product_unit" />
                  </div>
            </div>
            <div class="col-lg-3">
                <div class="form-group">
                <label for="input-1">Product Place</label>
                <input type="text" class="form-control form-control-air" [(ngModel)]="form.place"   name="place" />
                </div>
          </div>

            <div class="col-lg-3">
                  <div class="form-group">
                  <label for="input-1">Product HSN</label>
                  <input class="form-control form-control-air  " id=""   [(ngModel)]="form.product_hsn" placeholder="Product HSN" autocomplete="off" name="product_hsn" type="text" value="">
                  </div>
            </div>                                                                     
        </div>
                                     
        <div class="row">                                                             
          <div class="col-lg-3">
            <div class="form-group">
            <label for="input-1">Product Igst</label>
            <input class="form-control form-control-air"  [(ngModel)]="form.product_igst"  step="any" placeholder="Product Igst" autocomplete="off" name="product_igst" type="number" value="0">
            </div>
          </div>
          <div class="col-lg-3">
            <div class="form-group">
            <label for="input-1">Product Cgst</label>
            <input class="form-control form-control-air  "  [(ngModel)]="form.product_cgst"  step="any" placeholder="Product Cgst" autocomplete="off" name="product_cgst" type="number" value="0">
            </div>
          </div>
          <div class="col-lg-3">
            <div class="form-group">
            <label for="input-1">Product Sgst</label>
            <input class="form-control form-control-air  "  [(ngModel)]="form.product_sgst"  step="any" placeholder="Product Sgst" autocomplete="off" name="product_sgst" type="number" value="0">
            </div>
          </div>
          <div class="col-lg-3">
            <div class="form-group">
            <label for="input-1">Product Gst</label>
            <input class="form-control form-control-air  " id=""  [(ngModel)]="form.product_gst"  step="any" placeholder="Product Gst" autocomplete="off" name="product_gst" type="number" value="{{ form.product_sgst+form.product_cgst+form.product_igst }}">
            </div>
          </div>                                                    
        </div>

        <div class="row">                                                             
          <div class="col-lg-4">
            <div class="form-group">
            <label for="input-1"> Color</label>
            <input class="form-control form-control-air"  [(ngModel)]="form.product_color"   placeholder="Product Color" autocomplete="off" name="product_color" type="text" value="0">
            </div>
          </div>
          <div class="col-lg-4">
            <div class="form-group">
            <label for="input-1"> Specimen</label>
            <input class="form-control form-control-air  "  [(ngModel)]="form.product_specimen"  placeholder="Product Specimen" autocomplete="off" name="product_specimen" type="text" value="0">
            </div>
          </div>
          <div class="col-lg-4">
            <div class="form-group">
            <label for="input-1"> Make</label>
            <input class="form-control form-control-air  "  [(ngModel)]="form.product_make"   placeholder="Make" autocomplete="off" name="product_make" type="text" value="0">
            </div>
          </div>                                                 
        </div>
       
        
                                           
  </div>
  <div class="card-footer text-center">
      <button type="submit" [disabled]="!productAddForm.valid" class="btn btn-gradient-blue btn-lg btn-animated fade-button">
          <span class="visible-content btn-icon"><i class="fa fa-hand-pointer-o" aria-hidden="true"></i>Save</span>
          <span class="hidden-content">
              <span class="btn-icon"><i class="ti-face-smile"></i><small>Click Me!!</small> </span>
          </span>
      </button>
        <!-- <input  class="btn btn-gradient-peach btn-fix" value="Add Product"> -->
  </div>
</div>
</form>

  <!-- <div *ngIf="submitResponse.length!=0" class="row" >
      <div class="col-sm-12">
          <div class="ibox alert alert-warning alert-dismissable fade show alert-bordered">
              <div class="ibox-head text-center">
                 <h2 class="text-center"> Inserted Products</h2> 
              </div>
              <div class="ibox-body">
                  <div class="d-flex justify-content-between mb-5 pb-4">
                      <div class="d-flex align-items-center">
                          <span class="mr-4 static-badge badge-pink"><small>BCM</small></span>
                          <div>
                              <h5 class="font-strong">{{ submitResponse.product_name }}</h5>
                              <div class="text-light"> {{ submitResponse.product_department_Name }}</div>
                          </div>
                      </div>                     
                  </div>
                  <div class="ibox-fullwidth-block table-responsive">
                      <table class="table table-hover">
                          <tbody>
                              <tr>
                                  <td>&nbsp;</td>                                     
                                  <td>Product ID</td>
                                  <td>:</td>
                                  <td>{{ submitResponse.id }}</td>
                                  <td>&nbsp;</td>
                                  <td>&nbsp;</td>                                     
                                  <td>Product Code</td>
                                  <td>:</td>
                                  <td>{{ submitResponse.product_code }}</td>
                                  <td>&nbsp;</td>
                              </tr>
                              <tr class="success">
                                  <td>&nbsp;</td>                                     
                                  <td>Product Name</td>
                                  <td>:</td>
                                  <td>{{ submitResponse.product_name }}</td>
                                  <td>&nbsp;</td>
                                  <td>&nbsp;</td>                                     
                                  <td>Product Departments</td>
                                  <td>:</td>
                                  <td>{{ submitResponse.product_department_Name }}</td>
                                  <td>&nbsp;</td>
                              </tr>
                              <tr>
                                  <td>&nbsp;</td>                                     
                                  <td>Product Specification</td>
                                  <td>:</td>
                                  <td>{{ submitResponse.product_specification }}</td>
                                  <td>&nbsp;</td>
                                  <td>&nbsp;</td>                                     
                                  <td>Product Type</td>
                                  <td>:</td>
                                  <td>{{ submitResponse.product_type }}</td>
                                  <td>&nbsp;</td>
                              </tr>
                              <tr class="warning">
                                  <td>&nbsp;</td>                                     
                                  <td>Product Unit</td>
                                  <td>:</td>
                                  <td>{{ submitResponse.product_unit }}</td>
                                  <td>&nbsp;</td>
                                  <td>&nbsp;</td>                                     
                                  <td>Product Color</td>
                                  <td>:</td>
                                  <td>{{ submitResponse.product_color }}</td>
                                  <td>&nbsp;</td>
                              </tr>
                              <tr>
                                  <td>&nbsp;</td>                                     
                                  <td>Product HSN</td>
                                  <td>:</td>
                                  <td>{{ submitResponse.product_hsn }}</td>
                                  <td>&nbsp;</td>
                                  <td>&nbsp;</td>                                     
                                  <td>Product IGST</td>
                                  <td>:</td>
                                  <td>{{ submitResponse.product_igst }}</td>
                                  <td>&nbsp;</td>
                              </tr>
                              <tr class="danger">
                                  <td>&nbsp;</td>                                     
                                  <td>Product SGST</td>
                                  <td>:</td>
                                  <td>{{ submitResponse.product_sgst }}</td>
                                  <td>&nbsp;</td>
                                  <td>&nbsp;</td>                                     
                                  <td>Product CGST</td>
                                  <td>:</td>
                                  <td>{{ submitResponse.product_cgst }}</td>
                                  <td>&nbsp;</td>
                              </tr>
                              <tr>
                                  <td>&nbsp;</td>                                     
                                  <td>Product GST</td>
                                  <td>:</td>
                                  <td>{{ submitResponse.product_gst }}</td>
                                  <td>&nbsp;</td>
                                  <td>&nbsp;</td>                                     
                                  <td>Product Creaed At</td>
                                  <td>:</td>
                                  <td>{{ submitResponse.created_at }}</td>
                                  <td>&nbsp;</td>
                              </tr>
                             
                          </tbody>
                          <tfoot>
                              <tr>
                                  <th colspan="4"></th>
                              </tr>
                          </tfoot>
                      </table>
                  </div>
                 
              </div>
          </div>
      </div>
  </div> -->
  <app-inserted-product [submitResponse]="submitResponse" ></app-inserted-product>
 <!--  <div class="ibox">
    <div class="ibox-body">
      <div class="table-responsive">
        <table #dataTable id="datatable" datatable [dtOptions]="dtOptions"
        [dtTrigger]="dtTrigger" style="width:100%" class="table table-hover display">
          <thead>
            <tr>
            <th>Product Id</th>
            <th>Product Code</th>
            <th>Product Name</th>
            <th>Product Color</th>
            <th>Product Department</th>
            <th>Product Specifcation</th>
            <th>Product Type</th>
            <th>Product Unit</th>
            <th>Product HSN</th>
            <th>Product CGST</th>
            <th>Product SGST</th>
            <th>Product IGST</th>
            <th>Product GST</th>
            <th>Created Time</th>
          </tr>
          </thead>
          <tbody>
            <tr *ngFor="let product of handleProductResponse">
              <td>{{ product.id }}</td>
              <td>{{ product.product_code }}</td>
              <td>{{ product_name }}</td>
              <td>{{ product.product_color }}</td>
              <td>{{ product.product_department }}</td>
              <td>{{ product.product_specification }}</td>
              <td>{{ product.product_type }}</td>
              <td>{{ product.product_unit }}</td>
              <td>{{ product.product_hsn }}</td>
              <td>{{ product.product_cgst }}</td>
              <td>{{ product.product_sgst }}</td>
              <td>{{ product.product_igst }}</td>
              <td>{{ product.product_gst }}</td>
              <td>{{ product.product_gst }}</td>
              <td>{{ product.created_at }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
</div> -->

<div class="table-responsive">
<div fxLayout fxLayoutAlign="center center">
  <mat-form-field fxFlex="40%">
    <input matInput type="text" (keyup)="doFilter($event.target.value)" placeholder="Filter">
  </mat-form-field>
</div>
<table mat-table [dataSource]="dataSource" matSort matSortStart="desc">
  <ng-container matColumnDef="id">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Id </th>
    <td mat-cell *matCellDef="let element"> {{element.id}} </td>
  </ng-container>
  <ng-container matColumnDef="product_code">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Product Code </th>
    <td mat-cell *matCellDef="let element"> {{element.product_code}} </td>
  </ng-container>
  <ng-container matColumnDef="product_name">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Product Name </th>
    <td mat-cell *matCellDef="let element"> {{element.product_name}} </td>
  </ng-container>
  <ng-container matColumnDef="place">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Product Place </th>
    <td mat-cell *matCellDef="let element"> {{element.place}} </td>
  </ng-container>
  <ng-container matColumnDef="product_department_Name">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Product Department </th>
    <td mat-cell *matCellDef="let element"> {{element.product_department_Name}} </td>
  </ng-container>
  <ng-container matColumnDef="product_hsn">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Product HSN </th>
    <td mat-cell *matCellDef="let element"> {{element.product_hsn}} </td>
  </ng-container>
  <ng-container matColumnDef="product_specification">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Product Specification </th>
    <td mat-cell *matCellDef="let element"> {{element.product_specification}} </td>
  </ng-container>
  <ng-container matColumnDef="product_unit">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Product Unit </th>
    <td mat-cell *matCellDef="let element"> {{element.product_unit}} </td>
  </ng-container>
  <ng-container matColumnDef="product_type">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Product Type </th>
    <td mat-cell *matCellDef="let element"> {{element.product_type}} </td>
  </ng-container>
  <ng-container matColumnDef="product_igst">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Product IGST </th>
    <td mat-cell *matCellDef="let element"> {{element.product_igst}} </td>
  </ng-container>
   <ng-container matColumnDef="product_sgst">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Product SGST </th>
    <td mat-cell *matCellDef="let element"> {{element.product_sgst}} </td>
  </ng-container>
  <ng-container matColumnDef="product_cgst">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Product CGST </th>
    <td mat-cell *matCellDef="let element"> {{element.product_cgst}} </td>
  </ng-container>
  <ng-container matColumnDef="product_gst">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Product CGST </th>
    <td mat-cell *matCellDef="let element"> {{element.product_gst}} </td>
  </ng-container>
   <ng-container matColumnDef="created_at">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Created Date </th>
    <td mat-cell *matCellDef="let element"> {{element.created_at}} </td>
  </ng-container>
 <!--  [ 'created_at','created_by','deleted_at:','id','product_cgst','product_code','product_color,product_department','product_gst','product_hsn','product_igst','product_name','product_sgst','product_specification','product_type','product_unit','status','updated_at']; -->
  <!-- <ng-container matColumnDef="dateOfBirth">
    <th mat-header-cell *matHeaderCellDef> Date of Birth </th>
    <td mat-cell *matCellDef="let element"> {{element.id }} </td>
  </ng-container> -->
 
  <!-- <ng-container matColumnDef="address">
    <th mat-header-cell *matHeaderCellDef> Address </th>
    <td mat-cell *matCellDef="let element"> {{element.address}} </td>
  </ng-container>
 
  <ng-container matColumnDef="details">
    <th mat-header-cell *matHeaderCellDef> Details </th>
    <td mat-cell *matCellDef="let element">
      <button mat-icon-button color="primary" (click)="redirectToDetails(element.id)">
          <mat-icon class="mat-18">reorder</mat-icon>
      </button>
    </td>
  </ng-container>-->
 
  <ng-container matColumnDef="update">
      <th mat-header-cell *matHeaderCellDef> Update&emsp; &emsp;.&emsp;.</th>
      <td mat-cell *matCellDef="let element">
        <button mat-icon-button color="accent" (click)="redirectToUpdate(element.id)">
            <mat-icon class="mat-18">update</mat-icon>
        </button>
      </td>
    </ng-container>
 
    <ng-container matColumnDef="delete">
        <th mat-header-cell *matHeaderCellDef> Delete&emsp;&emsp;.&emsp;.</th>
        <td mat-cell *matCellDef="let element">
          <button mat-icon-button color="warn" (click)="redirectToDelete(element.id)">
              <mat-icon class="mat-18">delete</mat-icon>
          </button>
        </td>
      </ng-container> 
 
  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>
<mat-paginator [pageSize]="2" [pageSizeOptions]="[4, 6, 10, 20]">
</mat-paginator>
</div>
<div style="height: 30px">
  &nbsp;
</div>
<!-- <app-marterial-produt></app-marterial-produt> -->
  <!-- <input type="button" (click)="loadDataTable()"> -->
  <!-- <mat-form-field>
    List length:
    <input matInput [(ngModel)]="length">
  </mat-form-field>
  
  <mat-form-field>
    Page size:
    <input matInput [(ngModel)]="pageSize">
  </mat-form-field>
  <mat-form-field>
    Page size options:
    <input matInput
           [ngModel]="pageSizeOptions"
           (ngModelChange)="setPageSizeOptions($event)">
  </mat-form-field>
  
  <mat-paginator [length]="length"
                [pageSize]="pageSize"
                [pageSizeOptions]="pageSizeOptions"
                (page)="pageEvent = $event">
  </mat-paginator>
  
  <div *ngIf="pageEvent">
    <h5>Page Change Event Properties</h5>
    <div>List length: {{pageEvent.length}}</div>
    <div>Page size: {{pageEvent.pageSize}}</div>
    <div>Page index: {{pageEvent.pageIndex}}</div>
  </div> -->
<!-- <mat-form-field>-->
  <!--List length:-->
  <!--<input matInput [(ngModel)]="length">-->
<!--</mat-form-field>-->

<!--<mat-form-field>-->
  <!--Page size:-->
  <!--<input matInput [(ngModel)]="pageSize">-->
<!--</mat-form-field>-->
<!--<mat-form-field>-->
  <!--Page size options:-->
  <!--<input matInput-->
         <!--[ngModel]="pageSizeOptions"-->
         <!--(ngModelChange)="setPageSizeOptions($event)">-->
<!--</mat-form-field>-->

<!--<mat-paginator [length]="length"-->
               <!--[pageSize]="pageSize"-->
               <!--[pageSizeOptions]="pageSizeOptions"-->
               <!--(page)="pageEvent = $event">-->
<!--</mat-paginator>-->

<!--<div *ngIf="pageEvent">-->
  <!--<h5>Page Change Event Properties</h5>-->
  <!--<div>List length: {{pageEvent.length}}</div>-->
  <!--<div>Page size: {{pageEvent.pageSize}}</div>-->
  <!--<div>Page index: {{pageEvent.pageIndex}}</div>-->
<!--</div> -->
